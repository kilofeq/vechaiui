{"version":3,"file":"Toast.js","names":["createRoot","React","ToastManager","isBrowser","window","document","PORTAL_ID","Toaster","constructor","createNotification","removeAll","closeToast","closeAll","bindNotify","fn","notify","message","options","close","id","position","portalElement","existingPortalElement","getElementById","el","createElement","className","body","appendChild","root","render"],"sources":["../../src/Toast.tsx"],"sourcesContent":["import { createRoot } from 'react-dom/client'\nimport * as React from \"react\";\nimport ToastManager, { MessageOptionalOptions } from \"./ToastManager\";\nimport { MessageProp, PositionsType } from \"./Message\";\n\nconst isBrowser =\n  typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\nconst PORTAL_ID = \"react-toast\";\n\nclass Toaster {\n  createNotification?: Function;\n  removeAll?: Function;\n  closeToast?: Function;\n\n  constructor() {\n    if (!isBrowser) {\n      return;\n    }\n\n    let portalElement;\n    const existingPortalElement = document.getElementById(PORTAL_ID);\n\n    if (existingPortalElement) {\n      portalElement = existingPortalElement;\n    } else {\n      const el = document.createElement(\"div\");\n      el.id = PORTAL_ID;\n      el.className = \"Toaster\";\n      if (document.body != null) {\n        document.body.appendChild(el);\n      }\n      portalElement = el;\n    }\n    const root = createRoot(portalElement);\n    root.render(\n      <ToastManager notify={this.bindNotify as any} />\n    )\n  }\n\n  closeAll = () => {\n    if (this.removeAll) {\n      this.removeAll();\n    }\n  };\n\n  bindNotify = (fn: Function, removeAll: Function, closeToast: Function) => {\n    this.createNotification = fn;\n    this.removeAll = removeAll;\n    this.closeToast = closeToast;\n  };\n\n  notify = (message: MessageProp, options: MessageOptionalOptions = {}) => {\n    if (this.createNotification) {\n      return this.createNotification(message, options);\n    }\n  };\n\n  close = (id: number, position: PositionsType) => {\n    if(this.closeToast){\n      this.closeToast(id, position);\n    }\n  }\n}\n\nexport default Toaster;\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,kBAAkB;AAC7C,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,OAAOC,YAAY,MAAkC,gBAAgB;AAGrE,IAAMC,SAAS,GACb,OAAOC,MAAM,KAAK,WAAW,IAAI,OAAOA,MAAM,CAACC,QAAQ,KAAK,WAAW;AACzE,IAAMC,SAAS,GAAG,aAAa;AAE/B,MAAMC,OAAO,CAAC;EAKZC,WAAW,GAAG;IAAA;IAAA,KAJdC,kBAAkB;IAAA,KAClBC,SAAS;IAAA,KACTC,UAAU;IAAA,KA2BVC,QAAQ,GAAG,MAAM;MACf,IAAI,IAAI,CAACF,SAAS,EAAE;QAClB,IAAI,CAACA,SAAS,EAAE;MAClB;IACF,CAAC;IAAA,KAEDG,UAAU,GAAG,CAACC,EAAY,EAAEJ,SAAmB,EAAEC,UAAoB,KAAK;MACxE,IAAI,CAACF,kBAAkB,GAAGK,EAAE;MAC5B,IAAI,CAACJ,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC9B,CAAC;IAAA,KAEDI,MAAM,GAAG,UAACC,OAAoB,EAAEC,OAA+B,EAAU;MAAA,IAAzCA,OAA+B;QAA/BA,OAA+B,GAAG,CAAC,CAAC;MAAA;MAClE,IAAI,KAAI,CAACR,kBAAkB,EAAE;QAC3B,OAAO,KAAI,CAACA,kBAAkB,CAACO,OAAO,EAAEC,OAAO,CAAC;MAClD;IACF,CAAC;IAAA,KAEDC,KAAK,GAAG,CAACC,EAAU,EAAEC,QAAuB,KAAK;MAC/C,IAAG,IAAI,CAACT,UAAU,EAAC;QACjB,IAAI,CAACA,UAAU,CAACQ,EAAE,EAAEC,QAAQ,CAAC;MAC/B;IACF,CAAC;IA9CC,IAAI,CAACjB,SAAS,EAAE;MACd;IACF;IAEA,IAAIkB,aAAa;IACjB,IAAMC,qBAAqB,GAAGjB,QAAQ,CAACkB,cAAc,CAACjB,SAAS,CAAC;IAEhE,IAAIgB,qBAAqB,EAAE;MACzBD,aAAa,GAAGC,qBAAqB;IACvC,CAAC,MAAM;MACL,IAAME,EAAE,GAAGnB,QAAQ,CAACoB,aAAa,CAAC,KAAK,CAAC;MACxCD,EAAE,CAACL,EAAE,GAAGb,SAAS;MACjBkB,EAAE,CAACE,SAAS,GAAG,SAAS;MACxB,IAAIrB,QAAQ,CAACsB,IAAI,IAAI,IAAI,EAAE;QACzBtB,QAAQ,CAACsB,IAAI,CAACC,WAAW,CAACJ,EAAE,CAAC;MAC/B;MACAH,aAAa,GAAGG,EAAE;IACpB;IACA,IAAMK,IAAI,GAAG7B,UAAU,CAACqB,aAAa,CAAC;IACtCQ,IAAI,CAACC,MAAM,eACT,oBAAC,YAAY;MAAC,MAAM,EAAE,IAAI,CAACjB;IAAkB,EAAG,CACjD;EACH;AAyBF;AAEA,eAAeN,OAAO"}