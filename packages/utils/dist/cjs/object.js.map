{"version":3,"file":"object.js","names":["omit","object","keys","result","Object","forEach","key","includes","pick","deepmerge","target","source","options","clone","output","isObject"],"sources":["../../src/object.ts"],"sourcesContent":["import { isObject } from \"./assertion\";\nimport type { Dict } from \"./types\";\n\nexport function omit<T extends Dict, K extends keyof T>(object: T, keys: K[]) {\n  const result: Dict = {};\n\n  Object.keys(object).forEach((key) => {\n    if (keys.includes(key as K)) return;\n    result[key] = object[key];\n  });\n\n  return result as Omit<T, K>;\n}\n\nexport function pick<T extends Dict, K extends keyof T>(object: T, keys: K[]) {\n  const result = {} as { [P in K]: T[P] };\n\n  keys.forEach((key) => {\n    if (key in object) {\n      result[key] = object[key];\n    }\n  });\n\n  return result;\n}\n\nexport function deepmerge<T1, T2>(\n  target: Partial<T1>,\n  source: Partial<T2>,\n  options: { clone: boolean } = { clone: false }\n) {\n  const output = options.clone ? { ...target } : target;\n\n  if (isObject(target) && isObject(source)) {\n    Object.keys(source).forEach((key) => {\n      // Avoid prototype pollution\n      if (key === \"__proto__\") {\n        return;\n      }\n\n      if (isObject(source[key]) && key in target) {\n        // Since `output` is a clone of `target` and we have narrowed `target` in this block we can cast to the same type.\n        output[key] = deepmerge(target[key], source[key], options);\n      } else {\n        output[key] = source[key];\n      }\n    });\n  }\n\n  return output;\n}\n"],"mappings":";;;;;;AAAA;AAAuC;AAGhC,SAASA,IAAI,CAAoCC,MAAS,EAAEC,IAAS,EAAE;EAC5E,IAAMC,MAAY,GAAG,CAAC,CAAC;EAEvBC,MAAM,CAACF,IAAI,CAACD,MAAM,CAAC,CAACI,OAAO,CAAC,UAACC,GAAG,EAAK;IACnC,IAAIJ,IAAI,CAACK,QAAQ,CAACD,GAAG,CAAM,EAAE;IAC7BH,MAAM,CAACG,GAAG,CAAC,GAAGL,MAAM,CAACK,GAAG,CAAC;EAC3B,CAAC,CAAC;EAEF,OAAOH,MAAM;AACf;AAEO,SAASK,IAAI,CAAoCP,MAAS,EAAEC,IAAS,EAAE;EAC5E,IAAMC,MAAM,GAAG,CAAC,CAAuB;EAEvCD,IAAI,CAACG,OAAO,CAAC,UAACC,GAAG,EAAK;IACpB,IAAIA,GAAG,IAAIL,MAAM,EAAE;MACjBE,MAAM,CAACG,GAAG,CAAC,GAAGL,MAAM,CAACK,GAAG,CAAC;IAC3B;EACF,CAAC,CAAC;EAEF,OAAOH,MAAM;AACf;AAEO,SAASM,SAAS,CACvBC,MAAmB,EACnBC,MAAmB,EACnBC,OAA2B,EAC3B;EAAA,IADAA,OAA2B;IAA3BA,OAA2B,GAAG;MAAEC,KAAK,EAAE;IAAM,CAAC;EAAA;EAE9C,IAAMC,MAAM,GAAGF,OAAO,CAACC,KAAK,gBAAQH,MAAM,IAAKA,MAAM;EAErD,IAAI,IAAAK,mBAAQ,EAACL,MAAM,CAAC,IAAI,IAAAK,mBAAQ,EAACJ,MAAM,CAAC,EAAE;IACxCP,MAAM,CAACF,IAAI,CAACS,MAAM,CAAC,CAACN,OAAO,CAAC,UAACC,GAAG,EAAK;MACnC;MACA,IAAIA,GAAG,KAAK,WAAW,EAAE;QACvB;MACF;MAEA,IAAI,IAAAS,mBAAQ,EAACJ,MAAM,CAACL,GAAG,CAAC,CAAC,IAAIA,GAAG,IAAII,MAAM,EAAE;QAC1C;QACAI,MAAM,CAACR,GAAG,CAAC,GAAGG,SAAS,CAACC,MAAM,CAACJ,GAAG,CAAC,EAAEK,MAAM,CAACL,GAAG,CAAC,EAAEM,OAAO,CAAC;MAC5D,CAAC,MAAM;QACLE,MAAM,CAACR,GAAG,CAAC,GAAGK,MAAM,CAACL,GAAG,CAAC;MAC3B;IACF,CAAC,CAAC;EACJ;EAEA,OAAOQ,MAAM;AACf"}