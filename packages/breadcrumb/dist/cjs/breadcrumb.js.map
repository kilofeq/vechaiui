{"version":3,"file":"breadcrumb.js","names":["BreadcrumbSeparator","React","forwardRef","ref","className","props","cx","__DEV__","displayName","BreadcrumbLink","currentPage","Comp","Link","undefined","BreadcrumbItem","separator","lastChild","addSeparator","children","rest","validChildren","getValidChildren","clones","map","child","type","cloneElement","Breadcrumb","index","length"],"sources":["../../src/breadcrumb.tsx"],"sourcesContent":["import { Link, LinkProps } from \"@vechaiui/link\";\nimport { cx, getValidChildren, __DEV__ } from \"@vechaiui/utils\";\nimport { DefaultProps } from \"@vechaiui/theme\";\nimport * as React from \"react\";\nimport { cloneElement } from \"react\";\n\nexport interface BreadcrumbSeparatorProps extends DefaultProps, React.HTMLAttributes<HTMLSpanElement> {\n  children?: React.ReactNode;\n}\n\nconst BreadcrumbSeparator = React.forwardRef<\n  HTMLSpanElement,\n  BreadcrumbSeparatorProps\n>(({ className, ...props }, ref) => {\n  return (\n    <span\n      ref={ref}\n      role=\"presentation\"\n      className={cx(\"breadcrumb-separator\", className)}\n      {...props}\n    />\n  );\n});\n\nif (__DEV__) {\n  BreadcrumbSeparator.displayName = \"BreadcrumbSeparator\";\n}\n\ninterface BreadcrumbLinkProps extends LinkProps {\n  /**\n   * If `true`, indicates that the breadcrumb item is active, adds\n   * `aria-current=page` and renders a `span`\n   */\n  currentPage?: boolean;\n}\n\nexport type { BreadcrumbLinkProps }\n\nconst BreadcrumbLink = React.forwardRef<any, any>(\n  ({ currentPage, ...props }, ref) => {\n    const Comp = currentPage ? \"span\" : Link;\n\n    return (\n      <Comp ref={ref} aria-current={currentPage ? \"page\" : undefined} {...props} />\n    );\n  }\n);\n\nif (__DEV__) {\n  BreadcrumbLink.displayName = \"BreadcrumbLink\";\n}\n\nexport interface BreadcrumbItemProps extends BreadcrumbProps {\n  /**\n   * If `true`, indicates that the breadcrumb item is active, adds\n   * `aria-current=page` and renders a `span`\n   */\n  currentPage?: boolean;\n  lastChild?: boolean;\n}\n\nconst BreadcrumbItem = React.forwardRef<HTMLLIElement, BreadcrumbItemProps>(\n  (props, ref) => {\n    const {\n      currentPage,\n      separator,\n      lastChild,\n      addSeparator,\n      children,\n      className,\n      ...rest\n    } = props;\n\n    const validChildren = getValidChildren(children);\n    const clones = validChildren.map((child) => {\n      if (child.type === BreadcrumbLink) {\n        return cloneElement(child, { currentPage });\n      }\n\n      if (child.type === BreadcrumbSeparator) {\n        return cloneElement(child, {\n          children: child.props.children || separator,\n        });\n      }\n\n      return child;\n    });\n\n    return (\n      <li ref={ref} className={cx(\"breadcrumb-item\", className)} {...rest}>\n        {clones}\n        {!lastChild && addSeparator && (\n          <BreadcrumbSeparator children={separator} />\n        )}\n      </li>\n    );\n  }\n);\n\ninterface IBreadcrumbProps extends DefaultProps {\n  /* The visual separator between each breadcrumb item */\n  separator?: string | React.ReactElement;\n  /* Add the breadcrumb separator automatically */\n  addSeparator?: boolean;\n  /* React Node */\n  children?: React.ReactNode;\n}\n\nexport interface BreadcrumbProps\n  extends React.HTMLAttributes<HTMLElement>,\n    IBreadcrumbProps {}\n\nconst Breadcrumb = React.forwardRef<HTMLElement, BreadcrumbProps>(\n  (props, ref) => {\n    const {\n      children,\n      addSeparator = true,\n      separator = \"/\",\n      className,\n      ...rest\n    } = props;\n    const validChildren = getValidChildren(children);\n    const clones = validChildren.map((child, index) => {\n      return cloneElement(child, {\n        addSeparator,\n        separator,\n        lastChild: validChildren.length === index + 1,\n      });\n    });\n\n    return (\n      <nav\n        ref={ref}\n        aria-label=\"breadcrumb\"\n        className={cx(\"breadcrumb\", className)}\n        {...rest}\n      >\n        <ol>{clones}</ol>\n      </nav>\n    );\n  }\n);\n\nif (__DEV__) {\n  Breadcrumb.displayName = \"Breadcrumb\";\n}\nexport { Breadcrumb, BreadcrumbLink, BreadcrumbItem, BreadcrumbSeparator };\n"],"mappings":"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"}