{"version":3,"file":"breadcrumb.js","names":["Link","cx","getValidChildren","__DEV__","React","cloneElement","BreadcrumbSeparator","forwardRef","ref","className","props","displayName","BreadcrumbLink","currentPage","Comp","undefined","BreadcrumbItem","separator","lastChild","addSeparator","children","rest","validChildren","clones","map","child","type","Breadcrumb","index","length"],"sources":["../../src/breadcrumb.tsx"],"sourcesContent":["import { Link, LinkProps } from \"@vechaiui/link\";\nimport { cx, getValidChildren, __DEV__ } from \"@vechaiui/utils\";\nimport { DefaultProps } from \"@vechaiui/theme\";\nimport * as React from \"react\";\nimport { cloneElement } from \"react\";\n\nexport interface BreadcrumbSeparatorProps extends DefaultProps, React.HTMLAttributes<HTMLSpanElement> {\n  children?: React.ReactNode;\n}\n\nconst BreadcrumbSeparator = React.forwardRef<\n  HTMLSpanElement,\n  BreadcrumbSeparatorProps\n>(({ className, ...props }, ref) => {\n  return (\n    <span\n      ref={ref}\n      role=\"presentation\"\n      className={cx(\"breadcrumb-separator\", className)}\n      {...props}\n    />\n  );\n});\n\nif (__DEV__) {\n  BreadcrumbSeparator.displayName = \"BreadcrumbSeparator\";\n}\n\ninterface BreadcrumbLinkProps extends LinkProps {\n  /**\n   * If `true`, indicates that the breadcrumb item is active, adds\n   * `aria-current=page` and renders a `span`\n   */\n  currentPage?: boolean;\n}\n\nexport type { BreadcrumbLinkProps }\n\nconst BreadcrumbLink = React.forwardRef<any, any>(\n  ({ currentPage, ...props }, ref) => {\n    const Comp = currentPage ? \"span\" : Link;\n\n    return (\n      <Comp ref={ref} aria-current={currentPage ? \"page\" : undefined} {...props} />\n    );\n  }\n);\n\nif (__DEV__) {\n  BreadcrumbLink.displayName = \"BreadcrumbLink\";\n}\n\nexport interface BreadcrumbItemProps extends BreadcrumbProps {\n  /**\n   * If `true`, indicates that the breadcrumb item is active, adds\n   * `aria-current=page` and renders a `span`\n   */\n  currentPage?: boolean;\n  lastChild?: boolean;\n}\n\nconst BreadcrumbItem = React.forwardRef<HTMLLIElement, BreadcrumbItemProps>(\n  (props, ref) => {\n    const {\n      currentPage,\n      separator,\n      lastChild,\n      addSeparator,\n      children,\n      className,\n      ...rest\n    } = props;\n\n    const validChildren = getValidChildren(children);\n    const clones = validChildren.map((child) => {\n      if (child.type === BreadcrumbLink) {\n        return cloneElement(child, { currentPage });\n      }\n\n      if (child.type === BreadcrumbSeparator) {\n        return cloneElement(child, {\n          children: child.props.children || separator,\n        });\n      }\n\n      return child;\n    });\n\n    return (\n      <li ref={ref} className={cx(\"breadcrumb-item\", className)} {...rest}>\n        {clones}\n        {!lastChild && addSeparator && (\n          <BreadcrumbSeparator children={separator} />\n        )}\n      </li>\n    );\n  }\n);\n\ninterface IBreadcrumbProps extends DefaultProps {\n  /* The visual separator between each breadcrumb item */\n  separator?: string | React.ReactElement;\n  /* Add the breadcrumb separator automatically */\n  addSeparator?: boolean;\n  /* React Node */\n  children?: React.ReactNode;\n}\n\nexport interface BreadcrumbProps\n  extends React.HTMLAttributes<HTMLElement>,\n    IBreadcrumbProps {}\n\nconst Breadcrumb = React.forwardRef<HTMLElement, BreadcrumbProps>(\n  (props, ref) => {\n    const {\n      children,\n      addSeparator = true,\n      separator = \"/\",\n      className,\n      ...rest\n    } = props;\n    const validChildren = getValidChildren(children);\n    const clones = validChildren.map((child, index) => {\n      return cloneElement(child, {\n        addSeparator,\n        separator,\n        lastChild: validChildren.length === index + 1,\n      });\n    });\n\n    return (\n      <nav\n        ref={ref}\n        aria-label=\"breadcrumb\"\n        className={cx(\"breadcrumb\", className)}\n        {...rest}\n      >\n        <ol>{clones}</ol>\n      </nav>\n    );\n  }\n);\n\nif (__DEV__) {\n  Breadcrumb.displayName = \"Breadcrumb\";\n}\nexport { Breadcrumb, BreadcrumbLink, BreadcrumbItem, BreadcrumbSeparator };\n"],"mappings":"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"}