{"version":3,"file":"checkbox.js","names":["useFormControl","cx","useForkRef","__DEV__","React","useEffect","useRef","useCheckboxClass","useCheckboxLabelClass","Checkbox","forwardRef","props","ref","id","name","value","ariaLabel","ariaLabelledBy","ariaDescribedby","color","defaultChecked","checked","size","onChange","indeterminate","children","className","rest","disabled","invalid","readOnly","checkboxClasses","checkboxLabelClasses","ownRef","_ref","current","Boolean","undefined","displayName"],"sources":["../../src/checkbox.tsx"],"sourcesContent":["import { useFormControl } from \"@vechaiui/forms\";\nimport { cx, useForkRef, __DEV__ } from \"@vechaiui/utils\";\nimport { DefaultProps } from \"@vechaiui/theme\";\nimport * as React from \"react\";\nimport { useEffect, useRef } from \"react\";\n\nimport { useCheckboxClass, useCheckboxLabelClass } from \"./styles\";\n\ninterface ICheckboxProps<T = HTMLInputElement> extends DefaultProps {\n  /* Makes checkbox disabled */\n  disabled?: React.InputHTMLAttributes<T>[\"disabled\"];\n  /* Makes checkbox invalid */\n  invalid?: boolean;\n  /* Makes checkbox required */\n  required?: React.InputHTMLAttributes<T>[\"required\"];\n  /* Makes checkbox readOnly */\n  readOnly?: React.InputHTMLAttributes<T>[\"readOnly\"];\n  /* Makes checkbox indeterminate */\n  indeterminate?: boolean;\n  /**\n   * If `true`, the checkbox will be initially checked.\n   */\n  defaultChecked?: boolean;\n  /**\n   * If `true`, the checkbox will be checked.\n   * You'll need to pass `onChange` to update it's value (since it's now controlled)\n   */\n  checked?: boolean;\n  /* Checkbox id */\n  id?: string;\n  /* Checkbox name */\n  name?: string;\n  /* Checkbox value */\n  value?: string | number;\n  /* Set the checkbox color */\n  color?: string;\n  /* Size of the checkbox */\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n  /**\n   * A11y: A label that describes the input\n   */\n  \"aria-label\"?: string;\n  /**\n   * A11y: The id of the element that describes the input\n   */\n  \"aria-describedby\"?: string;\n  /**\n   * A11y: Refers to the id of the element that labels the checkbox element.\n   */\n  \"aria-labelledby\"?: string;\n  /**\n   * The children is the label to be displayed to the right of the checkbox.\n   */\n  children?: React.ReactNode;\n  /**\n   * The callback invoked when the checked state of the `Checkbox` changes..\n   */\n  onChange?: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nexport type CheckboxProps = ICheckboxProps &\n  React.HTMLAttributes<HTMLInputElement>;\n\nexport const Checkbox = React.forwardRef<HTMLInputElement, CheckboxProps>(\n  (props, ref) => {\n    const {\n      id,\n      name,\n      value,\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": ariaLabelledBy,\n      \"aria-describedby\": ariaDescribedby,\n      color = \"primary\",\n      defaultChecked,\n      checked,\n      size = \"md\",\n      onChange,\n      indeterminate,\n      children,\n      className,\n      ...rest\n    } = props;\n\n    const { disabled, invalid, readOnly } = useFormControl(props);\n\n    const checkboxClasses = useCheckboxClass({\n      size,\n      disabled,\n    });\n\n    const checkboxLabelClasses = useCheckboxLabelClass({ size });\n\n    const ownRef = useRef();\n    const _ref = useForkRef(ownRef, ref);\n\n    useEffect(() => {\n      // @ts-ignore\n      if (ownRef.current) {\n        // @ts-ignore\n        ownRef.current.indeterminate = Boolean(indeterminate);\n      }\n    }, [indeterminate, _ref]);\n\n    return (\n      <label\n        className={cx(\n          \"inline-flex align-top items-center cursor-base\",\n          disabled && \"cursor-not-allowed\"\n        )}\n      >\n        <input\n          type=\"checkbox\"\n          aria-label={ariaLabel}\n          aria-labelledby={ariaLabelledBy}\n          aria-describedby={ariaDescribedby}\n          id={id}\n          ref={_ref}\n          name={name}\n          value={value}\n          onChange={readOnly ? undefined : onChange}\n          defaultChecked={readOnly ? undefined : defaultChecked}\n          checked={\n            readOnly ? Boolean(checked) : defaultChecked ? undefined : checked\n          }\n          disabled={disabled}\n          aria-disabled={disabled}\n          readOnly={readOnly}\n          aria-readonly={readOnly}\n          aria-invalid={invalid}\n          aria-checked={indeterminate ? \"mixed\" : checked}\n          data-color={color ? color : undefined}\n          className={cx(\n            checkboxClasses,\n            readOnly || disabled ? \"opacity-80\" : \"opacity-100\",\n            className\n          )}\n          {...rest}\n        />\n        {children && (\n          <span\n            className={cx(\n              checkboxLabelClasses,\n              readOnly || disabled ? \"opacity-40\" : \"opacity-100\"\n            )}\n          >\n            {children}\n          </span>\n        )}\n      </label>\n    );\n  }\n);\n\nif (__DEV__) {\n  Checkbox.displayName = \"Checkbox\";\n}\n"],"mappings":";;;AAAA,SAASA,cAAc,QAAQ,iBAAiB;AAChD,SAASC,EAAE,EAAEC,UAAU,EAAEC,OAAO,QAAQ,iBAAiB;AAEzD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEzC,SAASC,gBAAgB,EAAEC,qBAAqB,QAAQ,UAAU;AAyDlE,OAAO,IAAMC,QAAQ,gBAAGL,KAAK,CAACM,UAAU,CACtC,CAACC,KAAK,EAAEC,GAAG,KAAK;EACd,IAAM;MACJC,EAAE;MACFC,IAAI;MACJC,KAAK;MACL,YAAY,EAAEC,SAAS;MACvB,iBAAiB,EAAEC,cAAc;MACjC,kBAAkB,EAAEC,eAAe;MACnCC,KAAK,GAAG,SAAS;MACjBC,cAAc;MACdC,OAAO;MACPC,IAAI,GAAG,IAAI;MACXC,QAAQ;MACRC,aAAa;MACbC,QAAQ;MACRC;IAEF,CAAC,GAAGf,KAAK;IADJgB,IAAI,iCACLhB,KAAK;EAET,IAAM;IAAEiB,QAAQ;IAAEC,OAAO;IAAEC;EAAS,CAAC,GAAG9B,cAAc,CAACW,KAAK,CAAC;EAE7D,IAAMoB,eAAe,GAAGxB,gBAAgB,CAAC;IACvCe,IAAI;IACJM;EACF,CAAC,CAAC;EAEF,IAAMI,oBAAoB,GAAGxB,qBAAqB,CAAC;IAAEc;EAAK,CAAC,CAAC;EAE5D,IAAMW,MAAM,GAAG3B,MAAM,EAAE;EACvB,IAAM4B,IAAI,GAAGhC,UAAU,CAAC+B,MAAM,EAAErB,GAAG,CAAC;EAEpCP,SAAS,CAAC,MAAM;IACd;IACA,IAAI4B,MAAM,CAACE,OAAO,EAAE;MAClB;MACAF,MAAM,CAACE,OAAO,CAACX,aAAa,GAAGY,OAAO,CAACZ,aAAa,CAAC;IACvD;EACF,CAAC,EAAE,CAACA,aAAa,EAAEU,IAAI,CAAC,CAAC;EAEzB,oBACE;IACE,SAAS,EAAEjC,EAAE,CACX,gDAAgD,EAChD2B,QAAQ,IAAI,oBAAoB;EAChC,gBAEF;IACE,IAAI,EAAC,UAAU;IACf,cAAYZ,SAAU;IACtB,mBAAiBC,cAAe;IAChC,oBAAkBC,eAAgB;IAClC,EAAE,EAAEL,EAAG;IACP,GAAG,EAAEqB,IAAK;IACV,IAAI,EAAEpB,IAAK;IACX,KAAK,EAAEC,KAAM;IACb,QAAQ,EAAEe,QAAQ,GAAGO,SAAS,GAAGd,QAAS;IAC1C,cAAc,EAAEO,QAAQ,GAAGO,SAAS,GAAGjB,cAAe;IACtD,OAAO,EACLU,QAAQ,GAAGM,OAAO,CAACf,OAAO,CAAC,GAAGD,cAAc,GAAGiB,SAAS,GAAGhB,OAC5D;IACD,QAAQ,EAAEO,QAAS;IACnB,iBAAeA,QAAS;IACxB,QAAQ,EAAEE,QAAS;IACnB,iBAAeA,QAAS;IACxB,gBAAcD,OAAQ;IACtB,gBAAcL,aAAa,GAAG,OAAO,GAAGH,OAAQ;IAChD,cAAYF,KAAK,GAAGA,KAAK,GAAGkB,SAAU;IACtC,SAAS,EAAEpC,EAAE,CACX8B,eAAe,EACfD,QAAQ,IAAIF,QAAQ,GAAG,YAAY,GAAG,aAAa,EACnDF,SAAS;EACT,GACEC,IAAI,EACR,EACDF,QAAQ,iBACP;IACE,SAAS,EAAExB,EAAE,CACX+B,oBAAoB,EACpBF,QAAQ,IAAIF,QAAQ,GAAG,YAAY,GAAG,aAAa;EACnD,GAEDH,QAAQ,CAEZ,CACK;AAEZ,CAAC,CACF;AAED,IAAItB,OAAO,EAAE;EACXM,QAAQ,CAAC6B,WAAW,GAAG,UAAU;AACnC"}